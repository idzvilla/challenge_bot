# –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PgHero –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

## –ß—Ç–æ —Ç–∞–∫–æ–µ PgHero:

PgHero - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è PostgreSQL. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ
- –í—ã–ø–æ–ª–Ω—è—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã

## –ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å PgHero:

1. **–í Render Dashboard –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à PgHero —Å–µ—Ä–≤–∏—Å**
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ**
3. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ URL —Å–µ—Ä–≤–∏—Å–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `pghero-xxxxx.onrender.com`)
4. **PgHero –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ**

## –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ PgHero:

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü:

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Tables"** –∏–ª–∏ **"Database"**
2. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü: `users` –∏ `logs`
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ç–∞–±–ª–∏—Ü—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–∞–Ω–Ω—ã–µ

### 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤:

1. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Query"** –∏–ª–∏ **"SQL"** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
2. –í–≤–µ–¥–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å:

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM users;

-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ª–æ–≥–∏
SELECT * FROM logs ORDER BY logged_at DESC;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
SELECT 
  u.tg_user_id,
  u.username,
  u.first_name,
  COUNT(l.id) as total_logs,
  COALESCE(SUM(l.reps), 0) as total_reps
FROM users u
LEFT JOIN logs l ON u.id = l.user_id
GROUP BY u.id
ORDER BY total_reps DESC;
```

3. –ù–∞–∂–º–∏—Ç–µ **"Execute"** –∏–ª–∏ **"Run"**

### 3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:

```sql
-- –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–π
UPDATE logs SET reps = 100 WHERE id = 1;

-- –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
DELETE FROM logs WHERE id = 1;

-- –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤—Ä—É—á–Ω—É—é
INSERT INTO logs (user_id, reps, logged_at, log_date)
VALUES (1, 50, NOW(), CURRENT_DATE);
```

### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü:

```sql
-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã users
\d users

-- –ò–ª–∏ —á–µ—Ä–µ–∑ SQL
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'users';
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ PgHero:

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- **Slow Queries** - –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **Index Usage** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- **Table Stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∞–±–ª–∏—Ü–∞–º
- **Connection Stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### –ê–Ω–∞–ª–∏–∑:
- **Query Stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Index Bloat** - —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤
- **Table Bloat** - —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü

## –ü–æ–ª–µ–∑–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞:

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö:
```sql
-- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
SELECT * FROM users;

-- –í—Å–µ –ª–æ–≥–∏ —Å –∏–º–µ–Ω–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT 
  l.id,
  u.username,
  u.first_name,
  l.reps,
  l.log_date,
  l.logged_at
FROM logs l
JOIN users u ON l.user_id = u.id
ORDER BY l.logged_at DESC;

-- –¢–æ–ø-10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è–º
SELECT 
  u.username,
  u.first_name,
  SUM(l.reps) as total_reps,
  COUNT(l.id) as total_logs
FROM users u
LEFT JOIN logs l ON u.id = l.user_id
GROUP BY u.id
ORDER BY total_reps DESC
LIMIT 10;
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```sql
-- –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–π –≤ –∑–∞–ø–∏—Å–∏
UPDATE logs SET reps = 100 WHERE id = 1;

-- –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DELETE FROM logs WHERE user_id = 1;

-- –ò–∑–º–µ–Ω–∏—Ç—å username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
UPDATE users SET username = 'new_username' WHERE tg_user_id = 123456789;
```

### –û—á–∏—Å—Ç–∫–∞:
```sql
-- –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
DELETE FROM logs;

-- –£–¥–∞–ª–∏—Ç—å –ª–æ–≥–∏ —Å—Ç–∞—Ä—à–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –¥–∞—Ç—ã
DELETE FROM logs WHERE log_date < '2024-01-01';
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **–î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö**
2. **–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å DELETE** - –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:**
   ```sql
   BEGIN;
   -- –≤–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   COMMIT;  -- –∏–ª–∏ ROLLBACK; –¥–ª—è –æ—Ç–º–µ–Ω—ã
   ```

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PgHero –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ Render

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ External Database URL:**
   - –ï—Å–ª–∏ PgHero –Ω–µ –≤–∏–¥–∏—Ç –±–∞–∑—É, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PgHero –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞!


